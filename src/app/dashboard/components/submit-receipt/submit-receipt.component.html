<button
    class="md:flex-1 flex flex-col md:flex-row cursor-pointer items-center justify-center px-4 py-3 md:py-2 text-sm font-medium text-center w-full bg-yellow-100 rounded-lg hover:bg-yellow-200"
    (click)="openModal()">
    <svg class="shrink-0 w-5 h-5 mb-3 md:ml-3 md:mb-0" viewBox="-2 0 32 32" version="1.1"
        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
            <title>receipt</title>
            <defs> </defs>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                <g id="Icon-Set" sketch:type="MSLayerGroup" transform="translate(-414.000000, -775.000000)"
                    fill="#000000">
                    <path
                        d="M435,781 L421,781 C420.447,781 420,781.448 420,782 C420,782.553 420.447,783 421,783 L435,783 C435.553,783 436,782.553 436,782 C436,781.448 435.553,781 435,781 L435,781 Z M435,786.978 L421,786.978 C420.447,786.978 420,787.425 420,787.978 C420,788.529 420.447,788.978 421,788.978 L435,788.978 C435.553,788.978 436,788.529 436,787.978 C436,787.425 435.553,786.978 435,786.978 L435,786.978 Z M435,793 L421,793 C420.447,793 420,793.447 420,794 C420,794.553 420.447,795 421,795 L435,795 C435.553,795 436,794.553 436,794 C436,793.447 435.553,793 435,793 L435,793 Z M440,805.027 L436,802 L432,805.188 L428,802 L424,805.188 L420,802 L416,805.059 L416,779 C416,777.896 416.896,777 418,777 L438,777 C439.104,777 440,777.896 440,779 L440,805.027 L440,805.027 Z M438,775 L418,775 C415.791,775 414,776.791 414,779 L414,807 L415.867,807 L420,804 L424,807 L428,804 L432,807 L436,804 L440.134,807 L442,807 L442,779 C442,776.791 440.209,775 438,775 L438,775 Z"
                        id="receipt" sketch:type="MSShapeGroup"> </path>
                </g>
            </g>
        </g>
    </svg>

    {{Messages.Buttons.submitTransaction}}
</button>

<div *ngIf="isModalOpen" class="fixed inset-0 z-50 flex items-center justify-center bg-[rgba(31,41,55,0.5)]"
    (click)="closeModal()">
    <div class="relative p-4 w-full max-w-md max-h-full" (click)="$event.stopPropagation()">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow-sm">
            <!-- Modal header -->
            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t border-gray-200">
                <h3 class="text-l text-gray-900">
                    {{Messages.Buttons.submitTransaction}}
                </h3>
                <button type="button"
                    class="cursor-pointer end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"
                    (click)="closeModal()">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-4 md:p-5">
                <form class="space-y-4" action="#">
                    <div>
                        <input type="text" name="transactionNumber" id="transactionNumber"
                            [(ngModel)]="transactionNumber"
                            class="text-center bg-gray-50 border border-custom-300 text-gray-900 text-sm rounded-lg focus:ring-custom-500 focus:border-custom-500 block w-full p-2.5"
                            [placeholder]="Messages.Labels.submitReceiptPlaceholder" required />
                    </div>

                    <div *ngIf="transactionNumberInvalid" class="text-red-600 text-sm mt-1">
                        {{Messages.Errors.emptyTransactionNumber}}
                    </div>

                    <div *ngIf="showWaitingMessage" class="text-custom-700 text-sm mt-1">
                        {{Messages.Warnings.waitingTooLong}}
                    </div>

                    <hw-loading-button [loading$]="buttonLoading$" label="{{ Messages.Buttons.confirm }}"
                        (click)="submitReceipt()" [disabled]="isConfirmButtonDisabled"></hw-loading-button>

                    <p *ngIf="timer > 0" class="text-center mt-4 text-sm text-gray-500">
                        {{ formatTime(timer) }} {{ Messages.Labels.transactionTimer }}
                    </p>
                </form>
            </div>
        </div>
    </div>
</div>