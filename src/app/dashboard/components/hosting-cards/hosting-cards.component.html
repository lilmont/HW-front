<div class="flex flex-wrap gap-4 justify-center text-center">
    <div *ngFor="let plan of hostingPlans" [ngClass]="{
            'pt-12':anyDiscounted,
            'pt-8':!anyDiscounted,
        }"
        class="relative w-full sm:w-[250px] md:w-[300px] p-4 bg-custom-100 border border-gray-100 rounded-2xl shadow-2xl hover:shadow-3xl">
        <div *ngIf="plan.hasDiscountCode" class="absolute top-5 right-0">
            <div class="relative w-[80px] h-8 z-10">
                <div
                    class="absolute inset-0 bg-green-600 text-white text-xs font-bold flex items-center justify-center shadow-md rounded-bl-md rounded-tl-md">
                    {{Messages.Labels.discounted }}
                </div>
            </div>
        </div>

        <h5 class="mb-4 text-lg md:text-xl font-semibold text-gray-900">
            {{ plan.title }}
        </h5>

        <div class="flex flex-wrap items-baseline text-gray-500 text-center pb-4 justify-center leading-tight">
            <div class="w-full flex-col" *ngIf="plan.hasDiscountCode; else normalPrice">
                <div class="flex items-baseline justify-center text-center">
                    <span class="text-md md:text-lg font-medium tracking-tight line-through text-red-500">
                        {{ plan.price | number:'1.0-0' }} {{Messages.Headers.toman}}
                    </span>
                </div>
                <div class="flex items-baseline justify-center text-center">
                    <span class="text-md md:text-lg font-medium tracking-tight">
                        {{ plan.discountedPrice | number:'1.0-0' }} {{Messages.Headers.toman}}
                    </span>
                </div>
            </div>
            <ng-template #normalPrice>
                <span class="text-md md:text-lg font-medium tracking-tight">
                    {{ plan.price | number:'1.0-0' }} {{Messages.Headers.toman}}
                </span>
            </ng-template>
            <span class="text-sm w-full mt-1 text-custom-600 font-bold">
                {{plan.subscriptionDurationInMonths == '12' ? Messages.Labels.yearly : Messages.Labels.monthly}}
            </span>
        </div>

        <hw-create-host-modal *ngIf="isCreatingHostAllowed" [hostingPlanId]="plan.id" [hostingPlanTitle]="plan.title"
            (hostPurchased)="getHostingPlans()"></hw-create-host-modal>

        <div class="flex flex-wrap items-baseline text-gray-500 text-center py-1 justify-center leading-tight">
            <div class="h-20 flex flex-col justify-center items-start mt-0">
                <ng-container *ngIf="plan.id==3">
                    <div class="flex mb-2">
                        <svg class="shrink-0 w-4 h-4 mb-3 md:ml-3 md:mb-0" viewBox="0 0 48 48" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <rect width="48" height="48" fill="white" fill-opacity="0.01"></rect>
                                <path d="M44 44V4H24V17L33 26V44H44Z" fill="#FFFFFF"></path>
                                <path d="M4 4V44H25V30L16 21V4H4Z" fill="#FFFFFF"></path>
                                <path d="M44 44V4H24V17L33 26V44H44Z" stroke="#059669" stroke-width="4"
                                    stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M4 4V44H25V30L16 21V4H4Z" stroke="#059669" stroke-width="4"
                                    stroke-linecap="round" stroke-linejoin="round"></path>
                            </g>
                        </svg>
                        <span class="text-sm text-green-600 font-bold text-center">
                            {{Messages.Labels.installmentAvailable}}
                        </span>
                    </div>
                    <div class="flex mb-2">
                        <svg class="shrink-0 w-5 h-5 mb-3 md:ml-3 md:mb-0" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg" stroke="#059669">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path
                                    d="M12 7V20M12 7H8.46429C7.94332 7 7.4437 6.78929 7.07533 6.41421C6.70695 6.03914 6.5 5.53043 6.5 5C6.5 4.46957 6.70695 3.96086 7.07533 3.58579C7.4437 3.21071 7.94332 3 8.46429 3C11.2143 3 12 7 12 7ZM12 7H15.5357C16.0567 7 16.5563 6.78929 16.9247 6.41421C17.293 6.03914 17.5 5.53043 17.5 5C17.5 4.46957 17.293 3.96086 16.9247 3.58579C16.5563 3.21071 16.0567 3 15.5357 3C12.7857 3 12 7 12 7ZM5 12H19V17.8C19 18.9201 19 19.4802 18.782 19.908C18.5903 20.2843 18.2843 20.5903 17.908 20.782C17.4802 21 16.9201 21 15.8 21H8.2C7.07989 21 6.51984 21 6.09202 20.782C5.71569 20.5903 5.40973 20.2843 5.21799 19.908C5 19.4802 5 18.9201 5 17.8V12ZM4.6 12H19.4C19.9601 12 20.2401 12 20.454 11.891C20.6422 11.7951 20.7951 11.6422 20.891 11.454C21 11.2401 21 10.9601 21 10.4V8.6C21 8.03995 21 7.75992 20.891 7.54601C20.7951 7.35785 20.6422 7.20487 20.454 7.10899C20.2401 7 19.9601 7 19.4 7H4.6C4.03995 7 3.75992 7 3.54601 7.10899C3.35785 7.20487 3.20487 7.35785 3.10899 7.54601C3 7.75992 3 8.03995 3 8.6V10.4C3 10.9601 3 11.2401 3.10899 11.454C3.20487 11.6422 3.35785 11.7951 3.54601 11.891C3.75992 12 4.03995 12 4.6 12Z"
                                    stroke="#059669" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                </path>
                            </g>
                        </svg>
                        <span class="text-sm text-green-600 font-bold">
                            {{Messages.Labels.wordpressDiscount}}
                        </span>
                    </div>
                    <div class="flex mb-2">
                        <svg class="shrink-0 w-5 h-5 mb-3 md:ml-3 md:mb-0" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg" stroke="#059669">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path
                                    d="M12 7V20M12 7H8.46429C7.94332 7 7.4437 6.78929 7.07533 6.41421C6.70695 6.03914 6.5 5.53043 6.5 5C6.5 4.46957 6.70695 3.96086 7.07533 3.58579C7.4437 3.21071 7.94332 3 8.46429 3C11.2143 3 12 7 12 7ZM12 7H15.5357C16.0567 7 16.5563 6.78929 16.9247 6.41421C17.293 6.03914 17.5 5.53043 17.5 5C17.5 4.46957 17.293 3.96086 16.9247 3.58579C16.5563 3.21071 16.0567 3 15.5357 3C12.7857 3 12 7 12 7ZM5 12H19V17.8C19 18.9201 19 19.4802 18.782 19.908C18.5903 20.2843 18.2843 20.5903 17.908 20.782C17.4802 21 16.9201 21 15.8 21H8.2C7.07989 21 6.51984 21 6.09202 20.782C5.71569 20.5903 5.40973 20.2843 5.21799 19.908C5 19.4802 5 18.9201 5 17.8V12ZM4.6 12H19.4C19.9601 12 20.2401 12 20.454 11.891C20.6422 11.7951 20.7951 11.6422 20.891 11.454C21 11.2401 21 10.9601 21 10.4V8.6C21 8.03995 21 7.75992 20.891 7.54601C20.7951 7.35785 20.6422 7.20487 20.454 7.10899C20.2401 7 19.9601 7 19.4 7H4.6C4.03995 7 3.75992 7 3.54601 7.10899C3.35785 7.20487 3.20487 7.35785 3.10899 7.54601C3 7.75992 3 8.03995 3 8.6V10.4C3 10.9601 3 11.2401 3.10899 11.454C3.20487 11.6422 3.35785 11.7951 3.54601 11.891C3.75992 12 4.03995 12 4.6 12Z"
                                    stroke="#059669" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                </path>
                            </g>
                        </svg>
                        <span class="text-sm text-green-600 font-bold">
                            {{Messages.Labels.laravelDiscount}}
                        </span>
                    </div>
                </ng-container>

                <ng-container *ngIf="plan.id==2">
                    <span class="text-sm text-green-600 font-bold">
                        {{Messages.Labels.installmentAvailable}}
                    </span>
                </ng-container>
            </div>
        </div>

        <ul role="list" [ngClass]="{
            'my-5':isShowMoreExpanded,
            'my-1':!isShowMoreExpanded
        }" class="px-4">
            <div [@expandCollapse]="isShowMoreExpanded ? 'expanded' : 'collapsed'"
                class="overflow-hidden transition-all duration-300">
                <li class="flex items-center m-2 mt-3">
                    <ng-container *ngComponentOutlet="LocationComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight text-gray-500 ms-3">
                        {{plan.serverLocation}}
                    </span>
                </li>

                <li class="flex items-center m-2 mt-3">
                    <ng-container *ngComponentOutlet="SettingComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight text-gray-500 ms-3">
                        {{plan.controlPanelTitle}}
                    </span>
                </li>

                <li class="flex items-center m-2 mt-3">
                    <ng-container *ngComponentOutlet="WebComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight ms-3 text-green-600">
                        {{plan.domainNumber}}
                    </span>
                </li>

                <li class="flex items-center m-2 mt-3">
                    <ng-container *ngComponentOutlet="LayersComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight text-gray-500 ms-3">
                        {{plan.subdomainNumber}}
                    </span>
                </li>

                <li class="flex items-center m-2 mt-3">
                    <ng-container *ngComponentOutlet="EmailComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight text-gray-500 ms-3">
                        {{plan.emailLimit}}
                    </span>
                </li>

                <li class="flex items-center m-2 mt-3">
                    <ng-container *ngComponentOutlet="MemoryComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight text-custom-500 ms-3">
                        {{plan.storage}}
                    </span>
                </li>

                <li class="flex m-2 mt-3">
                    <ng-container *ngComponentOutlet="DatabaseComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight text-amber-900 ms-3">
                        {{plan.databaseNumber}}
                    </span>
                </li>

                <li class="flex items-center m-2 mt-3">
                    <ng-container *ngComponentOutlet="SpeedComponent"></ng-container>
                    <span class="text-right text-base font-semibold leading-tight text-gray-500 ms-3">
                        {{plan.bandwidth}}
                    </span>
                </li>

                <li class="flex m-2 mt-4">
                    <ng-container *ngComponentOutlet="RocketComponent"></ng-container>
                    <span class="text-right font-semibold leading-tight text-blue-500 ms-3">
                        {{plan.supportedTechnologies}}
                    </span>
                </li>
            </div>
        </ul>

        <div class="flex justify-center">
            <button (click)="toggleExpand()" type="button"
                class="flex items-center gap-1 cursor-pointer text-xs sm:text-sm font-semibold text-custom-500 hover:underline focus:outline-none">
                {{isShowMoreExpanded ? Messages.Buttons.showLess : Messages.Buttons.showMore}}
                <span>
                    <ng-container *ngIf="!isShowMoreExpanded">
                        <ng-container *ngComponentOutlet="DownComponent"></ng-container>
                    </ng-container>
                    <ng-container *ngIf="isShowMoreExpanded">
                        <ng-container *ngComponentOutlet="UpComponent"></ng-container>
                    </ng-container>
                </span>
            </button>
        </div>
    </div>
</div>