<div class="p-6 w-full max-w-full box-border">
    <h2 class="font-bold text-xl"> {{Messages.Headers.dailyIncome}} ({{ firstSelectedReport?.monthName }})</h2>
    <p class="mt-6 text-lg text-custom-600"><span class="font-bold">{{Messages.Labels.total}}
            {{firstSelectedReport?.monthName}}:
        </span>{{firstSelectedReport?.total | number:'1.0-0'}} {{Messages.Headers.toman}}</p>
    <p *ngIf="showComparison" class="mt-6 text-lg text-yellow-200"><span class="font-bold">{{Messages.Labels.total}}
            {{secondSelectedReport?.monthName}}:
        </span>{{secondSelectedReport?.total | number:'1.0-0'}} {{Messages.Headers.toman}}</p>
    <div class="w-full overflow-hidden">
        <canvas baseChart [datasets]="dailyIncomeData.datasets" [labels]="dailyIncomeData.labels"
            [options]="chartOptions" [type]="lineChartType" id="dailyIncomeChart" class="!w-full !h-[400px]"></canvas>
    </div>

    <div class="mt-4 flex">
        <select [(ngModel)]="firstMonthlyReportRequest.month" (change)="updateFirstChart()" class="mr-2 min-w-[150px]">
            <option *ngFor="let m of months" [value]="m.id">{{ m.title }}</option>
        </select>
        <select [(ngModel)]="firstMonthlyReportRequest.year" (change)="updateFirstChart()" class="mr-2 min-w-[150px]">
            <option *ngFor="let y of years" [ngValue]="y">{{ y }}</option>
        </select>

        <button (click)="toggleComparison()" class="cursor-pointer px-3 py-1 rounded bg-blue-500 text-white mr-4">
            {{ showComparison ? Messages.Buttons.removeComparison : Messages.Buttons.addComparison }}
        </button>

        <div *ngIf="showComparison" class="flex items-center gap-2">
            <select [(ngModel)]="secondMonthlyReportRequest.month" (change)="updateSecondChart()"
                class="mr-2 min-w-[150px]">
                <option *ngFor="let m of months" [value]="m.id">{{ m.title }}</option>
            </select>
            <select [(ngModel)]="secondMonthlyReportRequest.year" (change)="updateSecondChart()"
                class="mr-2 min-w-[150px]">
                <option *ngFor="let y of years" [ngValue]="y">{{ y }}</option>
            </select>
        </div>
    </div>

    <div class="mt-10">
        <h2 class="font-bold text-lg">{{ selectedDay }}</h2>

        <div class="w-full py-6 px-4 mt-4">
            <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                <div class="p-6 bg-white border border-gray-200 rounded-lg shadow-sm"
                    *ngFor="let transaction of incomeDetailList">
                    <p class="mb-2 text-sm text-gray-500">
                        <span class="font-semibold">
                            {{Messages.TableHeaders.phoneNumber}}:
                        </span>
                        {{ transaction.userPhoneNumber }}
                    </p>
                    <p class="mb-2 text-sm text-gray-500">
                        <span class="font-semibold">
                            {{Messages.Labels.transactionDate}}:
                        </span>
                        {{ transaction.transactionDate | jalaliDatetime }}
                    </p>
                    <p class="mb-2 text-sm text-gray-500">
                        <span class="font-semibold">
                            {{Messages.Headers.amount}}:
                        </span>
                        {{ transaction.price | number:'1.0-0' }}
                    </p>
                    <p class="mb-2 text-sm text-gray-500">
                        <span class="font-semibold">
                            {{Messages.Labels.refId}}:
                        </span>
                        {{ transaction.transactionNumber }}
                    </p>
                </div>
            </div>
        </div>
    </div>

</div>